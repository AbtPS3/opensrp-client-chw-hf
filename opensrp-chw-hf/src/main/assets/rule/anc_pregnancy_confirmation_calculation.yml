---
name: step3_gest_age
description: Gestational age calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_fundal_height == '' ? ((helper.getDifferenceDays(step3_last_menstrual_period)-helper.getDifferenceDays(helper.getDateToday())) /7) : step3_fundal_height"
---
name: step3_gest_age_note
description: Gestational age calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_gest_age + ' weeks'"
---
name: step3_estimated_last_menstrual_period
description: estimated_last_menstrual_period calculation
priority: 1
condition: "true"
actions:
  - "calculation = step3_fundal_height == '' ? '' : helper.subtractDuration(helper.getDateToday(), step3_gest_age+'w') "
---
name: step3_edd
description: Edd calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_estimated_last_menstrual_period == '' ? helper.addDuration(step3_last_menstrual_period,'280d')  : helper.addDuration(step3_estimated_last_menstrual_period,'280d')"
---
name: step3_last_menstrual_period
description: Last Menstrual Period
priority: 1
condition: "true"
actions:
  - "calculation = step3_estimated_last_menstrual_period == '' ? step3_known_last_menstrual_period : step3_estimated_last_menstrual_period"