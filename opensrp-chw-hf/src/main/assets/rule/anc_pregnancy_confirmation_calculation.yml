---
name: step3_gest_age
description: Gestational age calculated
priority: 1
condition: "true"
actions:
  - "calculation = (helper.getDifferenceDays(step3_edd != '' ? helper.subtractDuration(step3_edd,'280d')  : step3_last_menstrual_period)-helper.getDifferenceDays(helper.getDateToday())) /7"

---
name: step3_gest_age_note
description: Gestational age calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_gest_age + ' weeks'"

---
name: step3_edd
description: Edd calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_last_menstrual_period != '' ?  helper.addDuration(step3_last_menstrual_period,'280d') : ''"

---
name: step3_last_menstrual_period
description: last_menstrual_period calculated
priority: 1
condition: "true"
actions:
  - "calculation = helper.subtractDuration(step3_edd,'280d')"

---
name: step3_edd_note
description: Edd calculated
priority: 1
condition: "true"
actions:
  - "calculation = step3_edd != '' ? step3_edd  : helper.addDuration(step3_last_menstrual_period,'280d')"
